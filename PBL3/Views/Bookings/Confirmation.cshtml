@model PBL3.Models.Ticket
@{
    ViewData["Title"] = "Đặt vé Thành công!";
}

<div class="container mt-4 text-center">
    <i class="fas fa-check-circle fa-5x text-success mb-3"></i>
    <h1 class="display-6">@ViewData["Title"]</h1>
    <p class="lead">Cảm ơn bạn đã đặt vé máy bay qua hệ thống của chúng tôi.</p>
    <hr class="my-4">

    @if (Model != null)
    {
        <p>Mã đặt vé của bạn là: <strong class="fs-5 text-primary">@Model.TicketId</strong></p>
        <p>Thông tin chi tiết đã được gửi đến email: <strong>@Model.Passenger?.Email</strong></p>

        <div class="card shadow-sm mt-4 mx-auto" style="max-width: 600px;">
            <div class="card-header bg-light">Tóm tắt thông tin vé</div>
            <div class="card-body text-start small">
                <dl class="row">
                    <dt class="col-sm-4">Hành khách:</dt>
                    <dd class="col-sm-8">@Model.Passenger?.FullName</dd>
                    <dt class="col-sm-4">Chuyến bay:</dt>
                    <dd class="col-sm-8">@Model.Flight?.FlightNumber (@Model.Flight?.StartingDestination → @Model.Flight?.ReachingDestination)</dd>
                    <dt class="col-sm-4">Khởi hành:</dt>
                    <dd class="col-sm-8">@Model.Flight?.StartingTime.ToString("HH:mm, dd/MM/yyyy")</dd>
                    <dt class="col-sm-4">Số ghế:</dt>
                    <dd class="col-sm-8">@(Model.SeatNumber ?? "Sẽ được gán sau")</dd>
                    <dt class="col-sm-4">Tổng tiền:</dt>
                    <dd class="col-sm-8 fw-bold">@Model.Price.ToString("N0") VNĐ</dd>
                    <dt class="col-sm-4">Trạng thái:</dt>
                    <dd class="col-sm-8"><span class="badge bg-success">@Model.Status</span></dd>
                </dl>
            </div>
        </div>

        <div class="mt-4">
            <a asp-controller="BookingHistory" asp-action="Index" class="btn btn-info">
                <i class="fas fa-history me-1"></i> Xem lịch sử đặt vé
            </a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">
                <i class="fas fa-home me-1"></i> Về trang chủ
            </a>
        </div>

    }
    else
    {
        <div class="alert alert-warning">Không thể hiển thị thông tin vé.</div>
        <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Về trang chủ</a>
    }
</div>